<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/posting.css">
    <link rel="stylesheet" href="/static/style.css">
    <!-- <link rel="stylesheet" href="/static/base/font-awesome.min.css"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>
</head>
<body>
  <div class="list_page_wrapper content_section fixed_left">
    <div class="subpage_topbar">
      <div class="page_route">
        <a href="" class="link home"></a>
        <a href="" class="link">알림마당</a>
        <a href="" class="link">공지사항</a>
      </div>
    </div>
    <div class="container">
      <div class="page_main_title">
        <div class="txt">글내용</div>
        <div class="sub_txt">instagram board customizing design</div>
        <div class="deco_img">
          <img src="/static/img/img_bulb.png" alt="">
        </div>
      </div>
      <div class="posts_content">
        <div class="post">
          <div class="head">
            <div class="title">첫 소개인사 드립니다.</div>
            <div class="sub_info clearfix">
              <div class="pull_left">
                <div class="author">
                  <span class="key">작성자</span>
                  <span class="val">박우진</span>
                </div>
              </div>
              <div class="pull_right">
                <div class="date">
                  <span class="key">등록일</span>
                  <span class="val">2019/11/25</span>
                </div>
                <div class="bar"></div>
                <div class="view">
                  <span class="key">조회</span>
                  <span class="val">15</span>
                </div>
              </div>
            </div>
          </div>
          <div class="cont">
            <div class="btn_download">
              <div class="txt" id='uploadFile'>첨부파일(0) <i class="fa fa-caret-down"></i>
              </div>
                <div class="drop_list" id="drop_list">
                    <a class="link text_ellipsis" id="file_name"
                       href="{{ file.mFileURL }}">{{ file.mFileName }}</a>
                </div>
            </div>
            <div class="txt_area">
              안녕하세요 이번 디비발표를 맡게 된 권혜주라고 합니다.
            </div>
          </div>
          <div class="comments">
            <div class="tab_links">
              <div class="link is_active" id="comment_table">댓글 {{ post.comments.count }} <i
                  class="fa fa-caret-up"></i>
                <span class="bar"></span>
                <div class="link liked" id="post_like">공감 <i class="fa fa-caret-down"></i>
                  <div class="btn_like is_active" id="post_like_counts" onclick="post_like_count()"><i
                      class="fa fa-heart-o"></i> 15</div>
                </div>
              </div>
              <!--눌렷을경우 색 차는 것-->
            </div>

            <div class="tab_panels" id="myDIV">
              <div class="panel reply" id="panel_replay">
                  <ul>
                    <li class="item clearfix">
                        <div class="tool">
                          <div class="btn_not_del"></div>
                        </div>
                      <div class="thumb">
                          <img src="/static/img/no_img_thumb.png" alt="">
                      </div>
                      <div class="txt_wrap">
                        <div class="name">박우진</div>
                        <div class="comm">고생하셨습니다.</div>
                        <div class="date">2019/11/26</div>
                        <div class="btn_rereply" onclick="showReply(1)">답글</div>
                        <div class="reply_container">
                          <div id='plain_{{ comment.id }}' class="textarea" style="display: none;">
                                                        <textarea class='rereply' name=""
                                                                  id="postCommentReply_{{ comment.id }}"
                                                                  maxlength="3000"></textarea>
                            <div class='btn_rereply_upload'
                                 onclick="post_comment_reply(1)">등록
                            </div>
                          </div>
                        </div>
                        <div class="btn_like" onclick="comment_like_count(1)"><i
                            class="fa heart"></i> 10</div>
                      </div>
                      <!-- {% for reply in replies %}
                        {% if reply.mParent.id == comment.id %}
                          <ul>
                            {% if request.user.id == reply.mWriter.id %}
                              <div class="tool">
                                <div class="btn_del_reply" onclick="delete_comment({{ reply.id }})">X</div>
                              </div>
                            {% else %}
                              <div class="tool">
                                <div class="btn_not_del"></div>
                              </div>
                            {% endif %}
                            <div class="txt_wrap_reply">
                              <div class="name_reply">{{ reply.mWriter.name }}({{ reply.mWriter.position }})</div>
                              <div class="comm_reply">{{ reply.mContents|linebreaks }}</div>
                              <div class="date_reply">{{ reply.mCreate_date }}</div>
                              <div class="btn_like_reply"
                                   onclick="comment_like_count({{ reply.id }})"><i
                                  class="fa fa-heart-o"></i> {{ reply.mRecoms }}
                              </div>
                            </div>
                          </ul>
                        {% endif %}
                      {% endfor %} -->
                      <ul>
                        <ul>
                              <div class="tool">
                                <div class="btn_del_reply" onclick="delete_comment(1)">X</div>
                              </div>
                              <div class="tool">
                                <div class="btn_not_del"></div>
                              </div>
                            <div class="txt_wrap_reply">
                              <div class="name_reply">박우진</div>
                              <div class="comm_reply">진짜 잘하네^_^</div>
                              <div class="date_reply">2019.11.26</div>
                              <div class="btn_like_reply"
                                   onclick="comment_like_count(1)"><i
                                  class="fa fa-heart-o"></i> 15
                              </div>
                            </div>
                      </ul>
                  </ul>
                <div class="upload_comment">
                  <div class="write_box">
                                        <textarea name="" id="commentContent" class='comment_container'
                                                  maxlength="3000"></textarea>
                    <div class="count_letter" id='count_letter'></div>
                  </div>
                  <div class="btn_upload" onclick="save_comment()">등록</div>
                </div>
              </div>
            </div>
          </div>
          <div class="nav_page">
              <div class="nav_list clearfix">
                <div class="pull_left">
                  <a href="/notice/detail/{{ post_prev.id }}/" class="link" id='before_page'>
                    <div class="caret_head"><i class="fa fa-caret-up"></i> 이전글</div>
                    <div class="p_tit text_ellipsis"></div>
                    <!-- <div class="p_tit text_ellipsis">{{ post_prev.mTitle }}</div> -->

                  </a>
                </div>
                <div class="pull_right">
                  <div class="date">
                    <span class="key">등록일</span>
                    <span class="val"></span>
                  </div>
                  <div class="bar"></div>
                  <div class="view">
                    <span class="key">조회</span>
                    <span class="val"></span>
                  </div>
                </div>
              </div>
              <div class="nav_list clearfix">
                <div class="pull_left">
                  <a href="/notice/detail/{{ post_next.id }}/" class="link">
                    <div class="caret_head"><i class="fa fa-caret-down"></i> 다음글</div>
                    <div class="p_tit text_ellipsis"></div>
                  </a>
                </div>
                <div class="pull_right">
                  <div class="date">
                    <span class="key">등록일</span>
                    <span class="val"></span>
                  </div>
                  <div class="bar"></div>
                  <div class="view">
                    <span class="key">조회</span>
                    <span class="val"></span>
                  </div>
                </div>
              </div>
          </div>
          <div class='post_tool'>
              <div class="btn_tool gray" id="updatebtn" onclick="update_post()">수정</div>
              <div class="btn_tool gray" id="deletebtn" onclick="delete_post()">삭제</div>
            <div class="btn_tool blue" id='listbtn'>목록</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

<script>
// $(document).ready(function () {
//     $('#commentContent').keyup(function () {
//     var commentContent = $(this).val();
//     $('#count_letter').html(commentContent.length + '/3000');
//     });
//     $('#commentContent').keyup();
// });

// $('#listbtn').click(function () {
//     location.href = "/notice/"
// });

// function update_post() {
//     location.href = "/notice/update/{{ post.id }}"
// }

// function delete_post() {
//     $.ajax({
//     type: "DELETE",
//     url: "/board/notice/{{ post.id }}",
//     success: function (data) {
//         if (data == 'ok') {
//         alert('게시글이 삭제되었습니다.');
//         location.href = '/notice/';
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.')
//     }
//     })
// }

// function save_comment() {
//     var commentContent = $('#commentContent').val();
//     var postID = '{{ post.id }}';
//     $.ajax({
//     type: 'POST',
//     url: '/notice/comment/',
//     data: {
//         'commentContent': commentContent,
//         'postID': postID
//     },
//     success: function (data) {
//         if (data == 'ok') {
//         alert('댓글이 등록되었습니다.');
//         location.reload();
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.')
//     }
//     })
// }

// function delete_comment(commentID) {
//     $.ajax({
//     type: 'DELETE',
//     url: '/notice/comment/',
//     data: {
//         'commentID': commentID
//     },
//     success: function (data) {
//         if (data == 'ok') {
//         alert('댓글이 삭제되었습니다.');
//         location.reload();
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.');
//     }
//     });

// }

// function post_like_count() {
//     $.ajax({
//     type: 'POST',
//     url: '/notice/post/{{ post.id }}/',
//     success: function (data) {
//         if (data == 'ok') {
//         location.reload();
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.');
//     }
//     });
// }

// function comment_like_count(commentID) {
//     $.ajax({
//     type: 'POST',
//     url: '/notice/comment/'+commentID+'/',
//     success: function (data) {
//         if (data == 'ok') {
//         location.reload();
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.');
//     }
//     });
// }

// function post_comment_reply(commentID) {
//     var postCommentReply = $('#postCommentReply_' + commentID).val();
//     $.ajax({
//     type: 'PUT',
//     url: '/notice/comment/',
//     data: {
//         'postCommentReply': postCommentReply,
//         'commentID': commentID,
//         'postID': {{ post.id }}
//     },
//     success: function (data) {
//         if (data == 'ok') {
//         alert('댓글이 등록되었습니다.');
//         location.reload();
//         }
//     },
//     error: function (data) {
//         alert('관리자에게 문의하세요.')
//     }
//     })
// }

// $('#comment_table').click(function () {
//     if ($('#panel_replay')[0].style.display == 'none') {
//     $('#panel_replay')[0].style.display = '';
//     } else {
//     $('#panel_replay')[0].style.display = 'none';
//     }
// });

// function showReply(commentID) {
//     if ($('#plain_' + commentID)[0].style.display == 'none') {
//     $('#plain_' + commentID)[0].style.display = '';
//     } else {
//     $('#plain_' + commentID)[0].style.display = 'none';
//     }
// }
// function test(){
//     $('#post_like_counts').removeClass("fa fa-heart-o");
//     $('#post_like_counts').addClass("fa fa-heart");
// }

// $('#uploadFile').click(function () {
//     if (drop_list.style.display == 'none') {
//     $(".drop_list").show();
//     } else {
//     $(".drop_list").hide();
//     }
// });
</script>
